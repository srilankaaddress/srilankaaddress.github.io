<!DOCTYPE html>
<html lang="zh-CN">

<head>
        <link rel="canonical" href="https://srilankaaddress.github.io/html/category/article-1491.htm" />
    <title>Python中的Super详解 - Sri Lanka Address</title>
        <meta charset="utf-8">
    <link rel="icon" href="/assets/addons/xcblog/img/srilankaaddress/favicon.ico" type="image/x-icon"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="AerobicsFit template project">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?e8fff5fa52c11c99c5cdad6284174bdb";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3332997411212854"
     crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="/assets/addons/xcblog/css/srilankaaddress/bootstrap-4.1.2/bootstrap.min.css">
    <link href="/assets/addons/xcblog/js/frontend/srilankaaddress/plugins/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" type="text/css" href="/assets/addons/xcblog/js/frontend/srilankaaddress/plugins/owl.carousel.css">
    <link rel="stylesheet" type="text/css" href="/assets/addons/xcblog/js/frontend/srilankaaddress/plugins/owl.theme.default.css">
    <link rel="stylesheet" type="text/css" href="/assets/addons/xcblog/js/frontend/srilankaaddress/plugins/animate.css">
    <link rel="stylesheet" type="text/css" href="/assets/addons/xcblog/css/srilankaaddress/about.css">
    <link rel="stylesheet" type="text/css" href="/assets/addons/xcblog/css/srilankaaddress/about_responsive.css">
</head>

<body>
    <div class="super_container">
                <!-- Header -->
        <header class="header">
            <div class="container">
                <div class="row">
                    <div class="col">
                        <div class="header_content d-flex flex-row align-items-center justify-content-start">
                            <div class="logo">Sri Lanka<span> Address</span></div>
                            <nav class="main_nav">
                                <ul class="d-flex flex-row align-items-center justify-content-start">
                                                                        <li><a href="/">首页</a></li>
                                                                        <li><a href="/html/category/">文章分类</a></li>
                                                                        <li><a href="#">关于</a></li>
                                    <li><a href="#">联系</a></li>
                                </ul>
                            </nav>
                            <div class="social header_social">
                                <ul class="d-flex flex-row align-items-center justify-content-start">
                                    <li><a href="#"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li>
                                    <li><a href="#"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li>
                                    <li><a href="#"><i class="fa fa-instagram" aria-hidden="true"></i></a></li>
                                    <li><a href="#"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
                                    <li><a href="#"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
                                </ul>
                            </div>
                            <div class="hamburger ml-auto"><i class="fa fa-bars" aria-hidden="true"></i></div>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <!-- Menu -->
        <div class="menu">
            <div class="menu_content d-flex flex-column align-items-center justify-content-center">
                <ul class="menu_nav_list text-center">
                                        <li><a href="index.html">Home</a></li>
                                        <li><a href="index.html">Home</a></li>
                                        <li><a href="#">关于</a></li>
                    <li><a href="#">联系</a></li>
                </ul>
            </div>
        </div>
        <!-- Home -->
        <div class="home">
            <div class="parallax_background parallax-window" data-parallax="scroll" data-image-src="/assets/addons/xcblog/img/srilankaaddress/about.jpg" data-speed="0.8"></div>
            <div class="home_container">
                <div class="container">
                    <div class="row">
                        <div class="col">
                            <div class="home_content">
                                <div class="home_title">Python中的Super详解</div>
                                <div class="breadcrumbs">
                                    <ul class="d-flex flex-row align-items-center justify-content-start">
                                        <li><a href="/">首页</a></li>
                                        <li><a href="/html/category/">文章分类</a></li>
                                        <li>正文</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Classes -->
        <div class="classes">
            <div class="container">
                <div class="row">
                    <div class="col-md-9">
                        <div class="row row-eq-height">
                            <div class="col-md-12">
                                  				  				  				<p>这篇文章我们来介绍一下 super，我相信大部分的人使用 super 都是使用这种方式；</p> <pre><code class="language-python"># 就是我有一个 class 比如说是 Male，然后继承另外一个 class 比如是 Person，然后我在这个 Male 也就是它的子类的 init 函数里面用 super().__init__() 来调用它父类的初识化函数  from objprint import op   class Person:     def __init__(self, name):         self.name = name   class Male(Person):     def __init__(self, name):         super().__init__(name)         self.gender = "male"   m = Male('xiaoyang') op(m)  # 输出： <Male 0x23669a19fa0   .gender = 'male',   .name = 'xiaoyang' ></code></pre> <p>在我们常用 super 的时候都通常会认为 super 是一个方法或者函数，但是实际上 super 是一个正儿八经的 class，它是一个内置内的名字，然后 super() 并不是调用了一个函数 ，super() 是建立 了一个 super 的对象</p> <pre><code>>>> type(super) <class 'type'></code></pre> <p>尽管我们更常用的是 super() 括号里面什么都没有，但是 super 的完整版它里面应该是有两个参数，第一个参数是一个 type 也就是一个 class，第二个参数是一个 type 或者是一个 object，其中第二个参数决定了这一个函数绑定到那个 object 或者 class 上，同时第二个参数决定了使用那个mro，而第一个参数决定了在 mro 链上 从哪个class 开始往后找，例如；</p> <pre><code class="language-python">from objprint import op   class Person:     def __init__(self, name):         self.name = name   class Male(Person):     def __init__(self, name):         # super().__init__(name)         super(Male, self).__init__(name)         self.gender = "male"   m = Male('xiaoyang') op(m)  # 输出： <Male 0x171f680afa0   .gender = 'male',   .name = 'xiaoyang' >   # 其实我们看刚才的 super().__init__(name) 它是等价于 super(Male, self).__init__(name) 的。</code></pre> <p>那么这个<code>super(Male, self)</code>它是做了这样一个事情，首先它要从 self 这个 object 里面拿到 mro，然后他会找到第一个 argument，也就是 Male 在 mro 里所处的位置，那在当前的情况下 Male 就是最开始的那个（Male Person object）接下来他会从 Male 后面的那个 class 开始找，那它第一个找到的就是 Person，然后它就看Person 里面有没有<code>__init__</code>这个函数，然后发现有这个函数，然后它在把这个<code>__init__</code>绑定到 self 上，在这里可以理解为这个 Person 的<code>__init__</code>函数传进去的这个 self 就是 super 里面的这个 self，也就是说<code>Person.__init__(self,name)</code>这行代码等价于<code>super(Male, self).__init__(name)</code>这行代码。</p> <p>至于为什么不直接使用<code>Person.__init__(self,name)</code>是有几个原因：</p> <ol> <li>在未来有可能会改变基类的名字，甚至会改变继承的方式，在这种情况下如果使用 super 的话就什么都不用管，应为他会自动追随这个 mro 找到正确的 class ，但是用这种命名的 class 的话就要全部修改，这样更容易引起错误</li> <li>其实 super 是动态的，他会根据 self 的 mro 进行寻找，而 self 也就是传进来的这个 argument 它本身是动态的，也就是说同样一个函数里面，我用 super 在不改变这个函数的情况下我有可能会拿到不同的 class。</li> </ol> <p>在来看这个示例：</p> <pre><code class="language-python">from objprint import op   class Animal:     def __init__(self, age):         self.age = age   class Person(Animal):     def __init__(self, age, name):         super().__init__(age)         self.name = name   class Male(Person):     def __init__(self,age, name):         # super(Male, self).__init__(age, name)          super(Person, self).__init__(age, name)          self.gender = "male"   m = Male(18， 'xiaoyang') op(m)</code></pre> <p>如果在 Male 中正常的使用它<code>super(Male, self).__init__(age, name)</code>，那么它就会正常的初始化所有的东西，它会访问这个 Person 的<code>__init__</code> ，然后 Person 的<code>__init__</code>会访问 Animal 的<code>__init__</code>，最后就完成了这个 Male。</p> <p>那如果把它改成<code>super(Person, self).__init__(age, name)</code>，那么就会报错，因为当我们使用<code>super(Person, self)</code>的时候，self 的 mro 链是 Male Person Animal 然后是  object，那第一个参数它由于是 Person，所以他会从 Person 后面的那个 class 也就是 Animal 开始找，那 Animal 是有<code>__init__</code>函数的，但是 Animal 的<code>__init__</code> 只有一个参数 age，所以当我们传入 age name 的时候那就错了，这时候就只需要将它改成只传进去一个 age 如：<code>super(Person, self).__init__(age)</code> 就可以了，同时也跳过了 Person。</p> <blockquote> <p>总结 super 的两个参数也就是第一个 type 和第二个 type 或者 object 分别决定了什么：</p> <p>第一个只决定了在 mro 这个链上从哪里开始找</p> <p>第二个是决定使用这个函数的对象和 mro</p> </blockquote> <p>super 并不是只能在 class 里面使用的，它可以在任何一个地方使用，我只要给定 第二个参数 object 或者 class ，在给定第一个参数从哪里开始找，我就能使用它的函数，例如：</p> <pre><code class="language-python"># 那这里的话就是从 m 这个 object 的 mro 上寻找 Male 后面开始的 __init__ 函数，这样实际上就找到了 Person 的 __init__ 函数，然后再用 Person 的 __init__ 函数对 m 这个 object 做初始化  from objprint import op   class Animal:     def __init__(self, age):         self.age = age   class Person(Animal):     def __init__(self, age, name):         super().__init__(age)         self.name = name   class Male(Person):     def __init__(self,age, name):         super(Person, self).__init__(age)         self.gender = "male"   m = Male(18, 'xiaoyang') op(m)  print("----------------------")  super(Male, m).__init__(20, "xiaoyang") op(m)   # 输出： <Male 0x18412d13f70   .age = 18,   .gender = 'male' > ---------------------- <Male 0x18412d13f70   .age = 20,   .gender = 'male',   .name = 'xiaoyang' ></code></pre> 			
                                <div class="col-md-12 mt-5">
                                                                        <p>上一个：<a href="/html/category/article-1490.htm">swift用xib 自定义View</a></p>
                                                                        <p>下一个：<a href="/html/category/article-1492.htm">如何在Web前端实现CAD图文字全文搜索功能之技术分享</a></p>
                                                                    </div>

                                                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">热门文章</h3>
    </div>
    <div class="panel-body">
        <ul class="p-0 x-0" style="list-style: none;margin: 0;padding: 0;">
                        <li class="py-2"><a href="/html/category/article-7866.htm" title="广州猫领养机构地址（广州猫咪领养中心在哪）">广州猫领养机构地址（广州猫咪领养中心在哪）</a></li>
                        <li class="py-2"><a href="/html/category/article-8005.htm" title="动物疫苗行业现状分析论文（动物疫苗市场规模）">动物疫苗行业现状分析论文（动物疫苗市场规模）</a></li>
                        <li class="py-2"><a href="/html/category/article-7085.htm" title="有名的宠物品牌（宠物类品牌名）">有名的宠物品牌（宠物类品牌名）</a></li>
                        <li class="py-2"><a href="/html/category/article-8051.htm" title="给动物打疫苗去哪里打（动物疫苗在哪里打的）">给动物打疫苗去哪里打（动物疫苗在哪里打的）</a></li>
                        <li class="py-2"><a href="/html/category/article-7453.htm" title="动物医院名字有哪些好听点（动物医院牌匾）">动物医院名字有哪些好听点（动物医院牌匾）</a></li>
                        <li class="py-2"><a href="/html/category/article-8189.htm" title="动物医院的英文短语（动物医院的英文短语是什么）">动物医院的英文短语（动物医院的英文短语是什么）</a></li>
                        <li class="py-2"><a href="/html/category/article-7867.htm" title="动物疫苗接种方法有哪几种类型（动物疫苗接种方法有哪几种类型的）">动物疫苗接种方法有哪几种类型（动物疫苗接种方法有哪几种类型的）</a></li>
                        <li class="py-2"><a href="/html/category/article-7360.htm" title="科学家振动一盒粒子，形成了一种奇怪的新材料：">科学家振动一盒粒子，形成了一种奇怪的新材料：</a></li>
                        <li class="py-2"><a href="/html/category/article-7545.htm" title="集成吊顶led灯哪个牌子好(集成吊顶灯什么牌子好)">集成吊顶led灯哪个牌子好(集成吊顶灯什么牌子好)</a></li>
                        <li class="py-2"><a href="/html/category/article-8097.htm" title="动物疫苗分几种种类的（动物疫苗包括哪些）">动物疫苗分几种种类的（动物疫苗包括哪些）</a></li>
                    </ul>
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">归纳</h3>
    </div>
    <div class="panel-body">
        <ul class="p-0 x-0" style="list-style: none;margin: 0;padding: 0;">
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">58</span> <a href="/html/date/2024-08/" title="2024-08 归档">2024-08</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">62</span> <a href="/html/date/2024-07/" title="2024-07 归档">2024-07</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">60</span> <a href="/html/date/2024-06/" title="2024-06 归档">2024-06</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">62</span> <a href="/html/date/2024-05/" title="2024-05 归档">2024-05</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">60</span> <a href="/html/date/2024-04/" title="2024-04 归档">2024-04</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">62</span> <a href="/html/date/2024-03/" title="2024-03 归档">2024-03</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">50</span> <a href="/html/date/2024-02/" title="2024-02 归档">2024-02</a></h4>
            </li>
                    </ul>
    </div>
</div>

                    </div>
                </div>
            </div>
        </div>
                <!-- Footer -->
        <footer class="footer">
            <div class="parallax_background parallax-window" data-parallax="scroll" data-image-src="/assets/addons/xcblog/img/srilankaaddress/footer.jpg" data-speed="0.8"></div>
            <div class="footer_overlay"></div>
            <div class="container">
                <div class="row">
                    <div class="col">
                        <div class="footer_content text-center d-flex flex-column align-items-center justify-content-center">
                            <p>
                                Sri Lanka Address 版权所有
                                <br />
                                Powered by WordPress
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
    </div>
    <script src="/assets/addons/xcblog/js/frontend/srilankaaddress/jquery-3.2.1.min.js"></script>
    <script src="/assets/addons/xcblog/css/srilankaaddress/bootstrap-4.1.2/popper.js"></script>
    <script src="/assets/addons/xcblog/css/srilankaaddress/bootstrap-4.1.2/bootstrap.min.js"></script>
    <script src="/assets/addons/xcblog/js/frontend/srilankaaddress/plugins/owl.carousel.js"></script>
    <script src="/assets/addons/xcblog/js/frontend/srilankaaddress/plugins/easing/easing.js"></script>
    <script src="/assets/addons/xcblog/js/frontend/srilankaaddress/plugins/parallax-js-master/parallax.min.js"></script>
    <script src="/assets/addons/xcblog/js/frontend/srilankaaddress/about.js"></script>
    <script>
    $(function() {
        $('.js_to').click(function(){
            var url = $(this).data('url');
            var code = $(this).data('code');
            url += code;

            window.open(url);
        })
    });
    </script>
</body>

</html>